<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="keywords" content="Учебник PAWN RU,Scripting Editors RU,Windows Server RU,Главная страница,Основы скриптинга (RU),Плагины сервера,Tutorials RU,Автовызываемые функции,Боты,Функции скриптинга" />
<link rel="shortcut icon" href="../favicon.html" />
		<title>Учебник PAWN RU - SA-MP Wiki</title>
		<style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "../skins/monobook/main8f14.css?7"; /*]]>*/</style>
		<link rel="stylesheet" type="text/css" media="print" href="../skins/common/commonPrint.css" />
		<!--[if lt IE 5.5000]><style type="text/css">@import "../skins/monobook/IE50Fixes.css";</style><![endif]-->
		<!--[if IE 5.5000]><style type="text/css">@import "../skins/monobook/IE55Fixes.css";</style><![endif]-->
		<!--[if IE 6]><style type="text/css">@import "../skins/monobook/IE60Fixes.css";</style><![endif]-->
		<!--[if IE 7]><style type="text/css">@import "../skins/monobook/IE70Fixes.css?1";</style><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="../skins/common/IEFixes.js"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
		<script type="text/javascript">var skin = 'monobook';var stylepath = '../skins';</script>
		<script type="text/javascript" src="../skins/common/wikibits.js"><!-- wikibits js --></script>
		<script type="text/javascript" src="../raw/gen.js"><!-- site js --></script>
		<style type="text/css">/*<![CDATA[*/
@import "../raw/MediaWiki_Common.css";
@import "../raw/MediaWiki_Monobook.css";
@import "../raw/gen.css";
/*]]>*/</style>
		<!-- Head Scripts -->
			</head>
<body  class="ns-0 ltr">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 class="firstHeading">Учебник PAWN RU</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From SA-MP Wiki</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<div class="scripting" style="color: #4378A4; background-color: #FFFFFF; margin: 2px; margin-bottom: 10px;"><div align="center" style="border: 1px solid #AAAAAA; padding: 3px; padding-left: 5px;"><a href="%25D0%2593%25D0%25BB%25D0%25B0%25D0%25B2%25D0%25BD%25D0%25B0%25D1%258F_%25D1%2581%25D1%2582%25D1%2580%25D0%25B0%25D0%25BD%25D0%25B8%25D1%2586%25D0%25B0.html" title="Главная страница">Главная страница</a> | <a href="%25D0%259E%25D1%2581%25D0%25BD%25D0%25BE%25D0%25B2%25D1%258B_%25D1%2581%25D0%25BA%25D1%2580%25D0%25B8%25D0%25BF%25D1%2582%25D0%25B8%25D0%25BD%25D0%25B3%25D0%25B0_%2528RU%2529.html" title="Основы скриптинга (RU)">Основы скриптинга</a> | <a href="Category_%25D0%25A4%25D1%2583%25D0%25BD%25D0%25BA%25D1%2586%25D0%25B8%25D0%25B8_%25D1%2581%25D0%25BA%25D1%2580%25D0%25B8%25D0%25BF%25D1%2582%25D0%25B8%25D0%25BD%25D0%25B3%25D0%25B0.html" title="Category:Функции скриптинга">Функции скриптинга</a> | <a href="Category_%25D0%2590%25D0%25B2%25D1%2582%25D0%25BE%25D0%25B2%25D1%258B%25D0%25B7%25D1%258B%25D0%25B2%25D0%25B0%25D0%25B5%25D0%25BC%25D1%258B%25D0%25B5_%25D1%2584%25D1%2583%25D0%25BD%25D0%25BA%25D1%2586%25D0%25B8%25D0%25B8.html" title="Category:Автовызываемые функции">Автовызываемые функции</a> | <a href="Category_%25D0%2591%25D0%25BE%25D1%2582%25D1%258B.html" title="Category:Боты">Боты</a> | <a href="Category_Tutorials_RU.html" title="Category:Tutorials RU">Учебники</a> | <a href="%25D0%259F%25D0%25BB%25D0%25B0%25D0%25B3%25D0%25B8%25D0%25BD%25D1%258B_%25D1%2581%25D0%25B5%25D1%2580%25D0%25B2%25D0%25B5%25D1%2580%25D0%25B0.html" title="Плагины сервера">Плагины</a></div></div><br />
<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class='toclevel-1'><a href="#.D0.A3.D1.87.D0.B5.D0.B1.D0.BD.D0.B8.D0.BA_PAWN"><span class="tocnumber">1</span> <span class="toctext">Учебник PAWN</span></a>
<ul>
<li class='toclevel-2'><a href="#.D0.94.D0.B5.D0.BB.D0.B0.D0.B5.D0.BC_.D0.BF.D1.80.D0.BE.D1.81.D1.82.D0.BE.D0.B9_deathmatch"><span class="tocnumber">1.1</span> <span class="toctext">Делаем простой deathmatch</span></a>
<ul>
<li class='toclevel-3'><a href="#.D0.9A.D0.BB.D0.B0.D1.81.D1.81.D1.8B"><span class="tocnumber">1.1.1</span> <span class="toctext">Классы</span></a></li>
<li class='toclevel-3'><a href="#.D0.9F.D0.BE.D0.BB.D1.83.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BA.D0.BE.D0.BE.D1.80.D0.B4.D0.B8.D0.BD.D0.B0.D1.82.2C_.D0.BD.D0.B0.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B9_.D0.B8_id_.D0.BC.D0.BE.D0.B4.D0.B5.D0.BB.D0.B5.D0.B9"><span class="tocnumber">1.1.2</span> <span class="toctext">Получение координат, направлений и id моделей</span></a></li>
</ul>
</li>
<li class='toclevel-2'><a href="#.D0.97.D0.BD.D0.B0.D0.BA.D0.BE.D0.BC.D1.81.D1.82.D0.B2.D0.BE_.D1.81_.D1.84.D1.83.D0.BD.D0.BA.D1.86.D0.B8.D1.8F.D0.BC.D0.B8_.D0.B8_.D0.B2.D1.8B.D0.B7.D1.8B.D0.B2.D0.B0.D0.B5.D0.BC.D1.8B.D0.BC.D0.B8_.D1.84.D1.83.D0.BD.D0.BA.D1.86.D0.B8.D1.8F.D0.BC.D0.B8"><span class="tocnumber">1.2</span> <span class="toctext">Знакомство с функциями и вызываемыми функциями</span></a></li>
<li class='toclevel-2'><a href="#.D0.94.D0.B5.D0.BB.D0.B0.D0.B5.D0.BC_.D0.BA.D0.BE.D0.BC.D0.B0.D0.BD.D0.B4.D0.BD.D1.8B.D0.B9_deathmatch"><span class="tocnumber">1.3</span> <span class="toctext">Делаем командный deathmatch</span></a></li>
<li class='toclevel-2'><a href="#.D0.A2.D1.80.D0.B0.D0.BD.D1.81.D0.BF.D0.BE.D1.80.D1.82"><span class="tocnumber">1.4</span> <span class="toctext">Транспорт</span></a></li>
<li class='toclevel-2'><a href="#.D0.9E.D0.B3.D1.80.D0.B0.D0.BD.D0.B8.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B8.D0.B3.D1.80.D0.BE.D0.B2.D0.BE.D0.B3.D0.BE_.D0.BC.D0.B8.D1.80.D0.B0"><span class="tocnumber">1.5</span> <span class="toctext">Ограничение игрового мира</span></a></li>
</ul>
</li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="%25D0%25A3%25D1%2587%25D0%25B5%25D0%25B1%25D0%25BD%25D0%25B8%25D0%25BA_PAWN_RU.html" title="Edit section: Учебник PAWN">edit</a>]</div><a name=".D0.A3.D1.87.D0.B5.D0.B1.D0.BD.D0.B8.D0.BA_PAWN"></a><h1 class="firstheading" style="position:absolute; top:0px; background:#FFF; width:95%;">Учебник PAWN</h1>
<ul><li> СТРАНИЦА НАХОДИТСЯ НА СТАДИИ ПЕРЕВОДА
</li></ul>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="%25D0%25A3%25D1%2587%25D0%25B5%25D0%25B1%25D0%25BD%25D0%25B8%25D0%25BA_PAWN_RU.html" title="Edit section: Делаем простой deathmatch">edit</a>]</div><a name=".D0.94.D0.B5.D0.BB.D0.B0.D0.B5.D0.BC_.D0.BF.D1.80.D0.BE.D1.81.D1.82.D0.BE.D0.B9_deathmatch"></a><h2>Делаем простой deathmatch</h2>
<p>Сделать простой deatchmatch на PAWN не может быть проще. Просто откройте Pawno (смотрите <a href="Scripting_Editors_RU.html" title="Scripting Editors RU">Редакторы скриптов</a>) и нажмите "new". Вот он, ваш первый скрипт. Чтобы запустить его сначала сохраните. Большинство людей сохраняют его в "<i><b>&lt;Директория установки GTA: San Andreas&gt;/gamemodes/src/</b></i>", но для локального тестирования легче сохранить в "<i><b>&lt;SA&gt;/gamemodes/</b></i>"), и затем нажать на кнопку в панели инструментов левее кнопки с изображённой синей стрелкой. Это скомпилирует ваш .pwn файл в .amx в тот же каталог, хотя чтобы игра видела его необходимо чтобы он был в "<i><b>&lt;SA&gt;/gamemodes/</b></i>". Теперь, чтобы протестировать ваш скрипт, вам понадобится <a href="Windows_Server_RU.html" title="Windows Server RU">создать локальный сервер</a> и поменять на ваш режим (наберите "<i><b>changemode &lt;название вашего режима&gt;</b></i>" в окне сервера).</p>
<p>Если всё правильно, то когда вы присоединитесь к своему серверу через клиент SA:MP и начнётся игра, вы должны появиться около казино в Лас Вентурасе. К сожалению, вы не сможете увидеть меню выбора персонажей (сейчас всего только один), но мы можем с лёгкостью изменить это потом. Также это не очень интересный deathmatch из-за отсутствия противников.</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="%25D0%25A3%25D1%2587%25D0%25B5%25D0%25B1%25D0%25BD%25D0%25B8%25D0%25BA_PAWN_RU.html" title="Edit section: Классы">edit</a>]</div><a name=".D0.9A.D0.BB.D0.B0.D1.81.D1.81.D1.8B"></a><h3>Классы</h3>
<p>Теперь первая вещь, которую вы, наверное, хотели бы добавить это раздачу оружия по классовому принципу. Каждый персонаж называется "<i><b>классом</b></i>". У всех могут быть одинаковое или разное оружие или смесь. Вы выставляете параметры для каждого класса отдельно, поэтому чтобы поставить одинаковое оружие для каждого класса, просто скопируйте параметры оружия и вставьте в параметры каждого класса. Это обеспечит сбалансированный deathmatch, но зато будет не так интересно, так что решать вам. 
В редакторе найдите эту строку:</p>
<pre class="pawn"><a href="http://wiki.sa-mp.com/wiki/AddPlayerClass"><span style="color: #006400;">AddPlayerClass</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #4169e1;">0</span>, <span style="color: #4169e1;">1958.3783</span>, <span style="color: #4169e1;">1343.1572</span>, <span style="color: #4169e1;">15.3746</span>, <span style="color: #4169e1;">269.1425</span>, <span style="color: #4169e1;">0</span>, <span style="color: #4169e1;">0</span>, <span style="color: #4169e1;">0</span>, <span style="color: #4169e1;">0</span>, <span style="color: #4169e1;">0</span>, <span style="color: #4169e1;">0</span><span style="color: #66cc66;">&#41;</span>;</pre>
<p>Это параметры класса, следуют они в таком порядке:</p>
<pre class="pawn"><a href="http://wiki.sa-mp.com/wiki/AddPlayerClass"><span style="color: #006400;">AddPlayerClass</span></a><span style="color: #66cc66;">&#40;</span>Модель игрока, X, Y, Z, Направление, Оружие <span style="color: #4169e1;">0</span>, Боеприпасы <span style="color: #4169e1;">0</span>, Оружие <span style="color: #4169e1;">1</span>, Боеприпасы <span style="color: #4169e1;">1</span>, Оружие <span style="color: #4169e1;">2</span>, Боеприпасы <span style="color: #4169e1;">2</span><span style="color: #66cc66;">&#41;</span>;</pre>
<p>Модель игрока можно взять из файла "<i><b>peds.ide</b></i>", "<i><b>X</b></i>", "<i><b>Y</b></i>" and "<i><b>Z</b></i>" - координаты точки возрождения, "<i><b>направление</b></i>" - направление куда лицом смотрит персонаж. Номера оружия можно найти ниже, а номера боеприпасов - просто количество боеприпасов на оружие которое вы хотите им давать при возрождении (Количество боеприпасов оружия ближнего боя всегда должно равняться 0).</p>
<p>Теперь скопируйте эту строку:</p>
<pre class="pawn"><a href="http://wiki.sa-mp.com/wiki/AddPlayerClass"><span style="color: #006400;">AddPlayerClass</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #4169e1;">102</span>, <span style="color: #4169e1;">1958.3783</span>, <span style="color: #4169e1;">1343.1572</span>, <span style="color: #4169e1;">15.3746</span>, <span style="color: #4169e1;">269.1425</span>, <span style="color: #4169e1;">5</span>, <span style="color: #4169e1;">0</span>, <span style="color: #4169e1;">22</span>, <span style="color: #4169e1;">100</span>, <span style="color: #4169e1;">32</span>, <span style="color: #4169e1;">50</span><span style="color: #66cc66;">&#41;</span>;</pre>
<p>и поместите её под той, которую вы нашли в скрипте. Теперь вы будете выбирать между СиДжеем с пустыми руками и Балласовцем с бейсбольной битой, пистолетом и Тек9.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="%25D0%25A3%25D1%2587%25D0%25B5%25D0%25B1%25D0%25BD%25D0%25B8%25D0%25BA_PAWN_RU.html" title="Edit section: Получение координат, направлений и id моделей">edit</a>]</div><a name=".D0.9F.D0.BE.D0.BB.D1.83.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BA.D0.BE.D0.BE.D1.80.D0.B4.D0.B8.D0.BD.D0.B0.D1.82.2C_.D0.BD.D0.B0.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B9_.D0.B8_id_.D0.BC.D0.BE.D0.B4.D0.B5.D0.BB.D0.B5.D0.B9"></a><h3>Получение координат, направлений и id моделей</h3>
<p>Вы наверняка захотите добавить дополнительные точки возрождения, поскольку если все будут появляться в одном и том же месте, то deathmatch будет скучным и кемпинг будет невероятно лёгким. Здесь в игру вступает режим отладки. Запустите "<i><b>samp_debug.exe</b></i>", находящийся в корневой директории San Andreas. После того как запустится режим отладки, дойдите до той позиции, где вы хотите сделать точку возрождения и напечатайте "<i><b>/save</b></i>" в окне чата (чтобы вызвать окно чата нажмите "<i><b>t</b></i>" или тильду (~)). Эта команда сохранит ваше местоположение, направление и id модели игрока в текстовый файл "<i><b>savedpositions.txt</b></i>" в корневой директории SA.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="%25D0%25A3%25D1%2587%25D0%25B5%25D0%25B1%25D0%25BD%25D0%25B8%25D0%25BA_PAWN_RU.html" title="Edit section: Знакомство с функциями и вызываемыми функциями">edit</a>]</div><a name=".D0.97.D0.BD.D0.B0.D0.BA.D0.BE.D0.BC.D1.81.D1.82.D0.B2.D0.BE_.D1.81_.D1.84.D1.83.D0.BD.D0.BA.D1.86.D0.B8.D1.8F.D0.BC.D0.B8_.D0.B8_.D0.B2.D1.8B.D0.B7.D1.8B.D0.B2.D0.B0.D0.B5.D0.BC.D1.8B.D0.BC.D0.B8_.D1.84.D1.83.D0.BD.D0.BA.D1.86.D0.B8.D1.8F.D0.BC.D0.B8"></a><h2>Знакомство с функциями и вызываемыми функциями</h2>
<p>Before we can continue you will need to be introduced to callbacks.  These are the chunks of code already in your gamemode that look something like this:
</p>
<pre>public OnPlayerDisconnect(playerid)
{
	printf("OnPlayerDisconnect(%d)", playerid);
	return 1;
}
</pre>
<p>This is the OnPlayerDisconnect callback, that means this section of code is run by the server whenever a player disconnects, so if you want to show a big message on the screen when a player leaves you would put the code for that here.  All the callbacks the game uses (except 2, but they are used by filterscripts, not gamemodes and are not covered here) are in your file, you cannot make up your own.  Most of them appear as the one above does, but some (i.e. "<i><b>OnPlayerCommandText</b></i>", "<i><b>OnPlayerRequestClass</b></i>", "<i><b>OnGameModeInit</b></i>" and "<i><b>main</b></i>" (which is not strictly a callback and never has more than your game title)) have other bits in already, either to make the game work or to show you what to do there.  You may also use other, similar blocks (as we are about to) which look the same but are called functions, these have to be called by you yourself.  Here is a function called "<i><b>IMadeThis</b></i>" (note the lack of spaces).
</p>
<pre class="pawn"><span style="color: #228b22; font-weight: bold;">public</span> IMadeThis<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>
 <span style="color: #66cc66;">&#123;</span>
 	<span style="color: #808080; font-style: italic;">// This is a comment and is ignored by the game/compiler</span>
&nbsp;
 	<span style="color: #808080; font-style: italic;">/* So 	
 	is
 	this */</span>
&nbsp;
 	<a href="http://wiki.sa-mp.com/wiki/print"><span style="color: #006400;">print</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #b22222;">&quot;This will be printed to the server window&quot;</span><span style="color: #66cc66;">&#41;</span>;
 	<span style="color: orange; font-weight: bold;">return</span> <span style="color: #4169e1;">0</span>;
 <span style="color: #66cc66;">&#125;</span></pre>
<p>You may have also noticed a very quick introduction to comments there, everything on a line after "<i><b>//</b></i>" will be ignored, as will anything anywhere between "<i><b>/*</b></i>" and "<i><b>*/</b></i>".  As a function is not called by the game we need to call it ourselves from a callback, this is dead easy as most of the commands you use to code with are infact premade functions (commands are infact different), so if you placed:
</p>
<pre class="pawn">IMadeThis<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</pre>
<p>in your OnPlayerDisconnect callback (it must be between the "<i><b>{</b></i>" and "<i><b>}</b></i>" and also before the "<i><b>return 1;</b></i>" it would run that function and print a message in the server window when you disconnected (remember the othr things in there are ignored).  We don't generally want to print things to the server window and all the "<i><b>print</b></i>" and "<i><b>printf</b></i>" functions already in the file are generally removed by the coder.  Only things between the braces are in the function/callback (from now on function refers to callbacks aswell as they are a special case of function), the line above is the name of the function.  "<i><b>public</b></i>" means the function can be run by any other bit of code, this basically means your code can be run when you call it, we're not worried about private functions as they are not generally used in SA-MP (if at all).  The brackets after the function name enclose the parameters list, we haven't covered these yet but you can see an example of their usage in some of the callbacks in your blank file, note that those parameters are automatically passed when the game calls the function, if we are using a custom functions (i.e. not a callback) and we want to use some parameters we will need to pass them ourselves.  One tiny other thing which should be mentioned is that all lines apart from lines with braces on (and even them in certain circumstances, but these will be covered later) and lines directly before an open brace (braces may be on the end of that line or, as shown here, on a new line), end with a semicolon to denote the end of a process.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="%25D0%25A3%25D1%2587%25D0%25B5%25D0%25B1%25D0%25BD%25D0%25B8%25D0%25BA_PAWN_RU.html" title="Edit section: Делаем командный deathmatch">edit</a>]</div><a name=".D0.94.D0.B5.D0.BB.D0.B0.D0.B5.D0.BC_.D0.BA.D0.BE.D0.BC.D0.B0.D0.BD.D0.B4.D0.BD.D1.8B.D0.B9_deathmatch"></a><h2>Делаем командный deathmatch</h2>
<p>OK, now you know how to make classes and place them about we will show you how to set teams, this will be the first bit of real coding but is fairly easy.  I will just be using the two classes described on this page so if you have more remove them for now or start a new mode and make sure only those two are in.  Classes are numbered in order from 0, so the first class in your file is 0, the second is 1 and so on (computers and programs nearly always start from 0 in counting (you will find that your playerid in a test game is 0)).  We want to set the team based on which class they choose (either Grove or Balla), you may look at the callbacks and think that this would go in the OnPlayerRequestClass function, and you would be correct.  When the select their class you want to set the team based on that, we can't do it in the OnPlayerSpawn function as at that point we don't know the class they have selected (that is a parameter and only parameters we are passed or which are global in your script (we will cover this later) can be used in any function).  First we need to define our teams, under the "<i><b>#include</b></i>" line(s) at the top of your file add these lines:
</p>
<pre class="pawn"><span style="color: #6b8e23;">#define TEAM_GROVE 1</span>
 <span style="color: #6b8e23;">#define TEAM_BALLA 2</span>
 <span style="color: #6b8e23;">#define TEAM_GROVE_COLOR 0x00FF00AA // Bright Green (in RGBA format)</span>
 <span style="color: #6b8e23;">#define TEAM_BALLA_COLOR 0xFF00FFAA // Bright Purple</span></pre>
<p>If you want to alter the colors, that's fine, just remember that the last two digits are the alpha and the lower that is the less you can see the color.  Defines are purely replacements, now if you ever want to use the number 1 in your script you can use TEAM_GROVE instead, this is not a good idea for normal calculations as it makes them harder to read, but for using to denote teams, which are only denoted by a number, it makes it alot clearer what's going on (and makes it very easy to change the teams around or modify later as you need only change the 1 in the define rather than all the instances of it throughout the code.  When the code is compiled, all the "<i><b>TEAM_GROVE</b></i>"s will be replaced by 1, it is not like a variable, it is a constant, it doesn't change.  Now under those lines add:
</p>
<pre class="pawn"><span style="color: #228b22; font-weight: bold;">new</span> gTeam<span style="color: #66cc66;">&#91;</span><span style="color: #E9967A; font-weight: bold;">MAX_PLAYERS</span><span style="color: #66cc66;">&#93;</span>;</pre>
<p>This is called a global array.  An array is basically lots of variables (places you store data to read and write) clumped together to store lots of data at once.  The "<i><b>MAX_PLAYERS</b></i>" is a pre-defined constant (done in exactly the same way as we did our defines.  MAX_PLAYERS is actually set at 100, so this means that our array can store up to 100 pieces of data.  The g on the name means global, but that doesn't make it global (it just makes it easier to tell what variables do what, defining it outside a function means it is global and can be used by all our functions.  Any variable defined in a function is local to that function and it cann't have the same name as another variable in the same function or a global variable (which is also why the g is useful), it can however have the same name as another variable in another function.  All the "<i><b>playerid</b></i>" variables in your blank script are infact all independent variables, each local to a different function, however they are all passed the same data, but just remember that any functions you make won't auomatically have that data.  Now we have that set up we can set the teams:
</p>
<pre class="pawn"><span style="color: #228b22; font-weight: bold;">public</span> SetPlayerTeamFromClass<span style="color: #66cc66;">&#40;</span>playerid, classid<span style="color: #66cc66;">&#41;</span>
 <span style="color: #66cc66;">&#123;</span>
 	<span style="color: #4169e1;">if</span> <span style="color: #66cc66;">&#40;</span>classid == <span style="color: #4169e1;">0</span><span style="color: #66cc66;">&#41;</span>
 	<span style="color: #66cc66;">&#123;</span>
 		gTeam<span style="color: #66cc66;">&#91;</span>playerid<span style="color: #66cc66;">&#93;</span> = TEAM_GROVE;
 	<span style="color: #66cc66;">&#125;</span>
 	<span style="color: #4169e1;">else</span>
 	<span style="color: #66cc66;">&#123;</span>
 		gTeam<span style="color: #66cc66;">&#91;</span>playerid<span style="color: #66cc66;">&#93;</span> = TEAM_BALLA;
 	<span style="color: #66cc66;">&#125;</span>
 <span style="color: #66cc66;">&#125;</span></pre>
<p>Place that code OUTSIDE a function in your code (as it is a new function) and put these lines as the first things after the open curly braces in your OnPlayerRequestClass callback (notice the way the variables are not global so we are having to pass them to out function too):
</p>
<pre class="pawn">SetPlayerTeamFromClass<span style="color: #66cc66;">&#40;</span>playerid, classid<span style="color: #66cc66;">&#41;</span>;</pre>
<p>This will save the players team to an array through our new function.  Data in an array is referenced by a number, so array[0] is the first item of data, array[1] is the second and so on, as we are using gTeam[playerid], depending on which playerid we are passed will define where in the array to store the data, so for player 5 their data will be stored at array position 5 (remember, this is the 6th piece of data).  Now copy this function:
</p>
<pre class="pawn"><span style="color: #228b22; font-weight: bold;">public</span> SetPlayerToTeamColor<span style="color: #66cc66;">&#40;</span>playerid<span style="color: #66cc66;">&#41;</span>
 <span style="color: #66cc66;">&#123;</span>
 	<span style="color: #4169e1;">if</span> <span style="color: #66cc66;">&#40;</span>gTeam<span style="color: #66cc66;">&#91;</span>playerid<span style="color: #66cc66;">&#93;</span> == TEAM_GROVE<span style="color: #66cc66;">&#41;</span>
 	<span style="color: #66cc66;">&#123;</span>
 		<a href="http://wiki.sa-mp.com/wiki/SetPlayerColor"><span style="color: #006400;">SetPlayerColor</span></a><span style="color: #66cc66;">&#40;</span>playerid, TEAM_GROVE_COLOR<span style="color: #66cc66;">&#41;</span>;
 	<span style="color: #66cc66;">&#125;</span>
 	<span style="color: #4169e1;">else</span> <span style="color: #4169e1;">if</span> <span style="color: #66cc66;">&#40;</span>gTeam<span style="color: #66cc66;">&#91;</span>playerid<span style="color: #66cc66;">&#93;</span> == TEAM_BALLA<span style="color: #66cc66;">&#41;</span>
 	<span style="color: #66cc66;">&#123;</span>
 		<a href="http://wiki.sa-mp.com/wiki/SetPlayerColor"><span style="color: #006400;">SetPlayerColor</span></a><span style="color: #66cc66;">&#40;</span>playerid, TEAM_BALLA_COLOR<span style="color: #66cc66;">&#41;</span>;
 	<span style="color: #66cc66;">&#125;</span>
 <span style="color: #66cc66;">&#125;</span></pre>
<p>And add the following line to OnPlayerSpawn:
</p>
<pre class="pawn">SetPlayerToTeamColor<span style="color: #66cc66;">&#40;</span>playerid<span style="color: #66cc66;">&#41;</span>;</pre>
<p>We now have our teams, but what have we actually done?
</p>
<pre class="pawn"><span style="color: #4169e1;">if</span> <span style="color: #66cc66;">&#40;</span>classid == <span style="color: #4169e1;">0</span><span style="color: #66cc66;">&#41;</span>
 	<span style="color: #66cc66;">&#123;</span>
 		gTeam<span style="color: #66cc66;">&#91;</span>playerid<span style="color: #66cc66;">&#93;</span> = TEAM_GROVE;
 	<span style="color: #66cc66;">&#125;</span></pre>
<p>In our first function, we check which class they chose (remember we said that the first class defined in your file was class 0?) "<i><b>==</b></i>" means "is equal to", a single equals sign simply sets the variable to the number given (as seen on the next line but one).  The curly braces sepparate the functions between them from the rest of the code, bits in there are only executed if the selected class is 0 (cj), if it isn't, the else command comes into play and executes insted (this executes whenever the "<i><b>if</b></i>" command is false (i.e. the class isn't 0)), since we only have two classes to choose from this must mean we're Balla:
</p>
<pre class="pawn"><span style="color: #4169e1;">else</span>
 	<span style="color: #66cc66;">&#123;</span>
 		gTeam<span style="color: #66cc66;">&#91;</span>playerid<span style="color: #66cc66;">&#93;</span> = TEAM_BALLA;
 	<span style="color: #66cc66;">&#125;</span></pre>
<p>We don't need a return here as there is no data to return.<br /><br />
</p><p>The second half set the players' color when they spawn, so you can tell who's on which team.  As we saved their team to a global array, we can still access the data even though it is in a separate function.
</p>
<pre class="pawn"><span style="color: #4169e1;">if</span> <span style="color: #66cc66;">&#40;</span>gTeam<span style="color: #66cc66;">&#91;</span>playerid<span style="color: #66cc66;">&#93;</span> == TEAM_GROVE<span style="color: #66cc66;">&#41;</span>
 	<span style="color: #66cc66;">&#123;</span>
 		<a href="http://wiki.sa-mp.com/wiki/SetPlayerColor"><span style="color: #006400;">SetPlayerColor</span></a><span style="color: #66cc66;">&#40;</span>playerid, TEAM_GROVE_COLOR<span style="color: #66cc66;">&#41;</span>;
 	<span style="color: #66cc66;">&#125;</span></pre>
<p>Hopefully you can see what this is doing now, if the player who just spawned (as referenced by playerid) is in TEAM_GROVE, we set their color to TEAM_GROVEs color.
</p>
<pre class="pawn"><span style="color: #4169e1;">else</span> <span style="color: #4169e1;">if</span> <span style="color: #66cc66;">&#40;</span>gTeam<span style="color: #66cc66;">&#91;</span>playerid<span style="color: #66cc66;">&#93;</span> == TEAM_BALLA<span style="color: #66cc66;">&#41;</span>
 	<span style="color: #66cc66;">&#123;</span>
 		<a href="http://wiki.sa-mp.com/wiki/SetPlayerColor"><span style="color: #006400;">SetPlayerColor</span></a><span style="color: #66cc66;">&#40;</span>playerid, TEAM_BALLA_COLOR<span style="color: #66cc66;">&#41;</span>;
 	<span style="color: #66cc66;">&#125;</span></pre>
<p>This next section is a little different, it could easilly have been done like this:
</p>
<pre class="pawn"><span style="color: #4169e1;">else</span>
 	<span style="color: #66cc66;">&#123;</span>
 		<a href="http://wiki.sa-mp.com/wiki/SetPlayerColor"><span style="color: #006400;">SetPlayerColor</span></a><span style="color: #66cc66;">&#40;</span>playerid, TEAM_BALLA_COLOR<span style="color: #66cc66;">&#41;</span>;
 	<span style="color: #66cc66;">&#125;</span></pre>
<p>But the way it is done allows you to set their color to TEAM_BALLAs color only if the first part is false (as sorted by the ELSE) AND if they are in TEAM_BALLA, this allows you to add more options by adding more "<i><b>else if ()</b></i>" blocks to the end as one will only be executed if all the blocks before it weren't.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="%25D0%25A3%25D1%2587%25D0%25B5%25D0%25B1%25D0%25BD%25D0%25B8%25D0%25BA_PAWN_RU.html" title="Edit section: Транспорт">edit</a>]</div><a name=".D0.A2.D1.80.D0.B0.D0.BD.D1.81.D0.BF.D0.BE.D1.80.D1.82"></a><h2>Транспорт</h2>
<p>Хорошо. Если вы читали предыдущие разделы, то у вас уже должен быть очень простой deathmatch или командный deathmatch с расставленными точками возрождения где вы хотите. Теперь давайте добавим транспорт. Большинство команд на PAWN делают именно то как они называются. Мы же хотим добавить транспорт, так давайте поищем нужные команды:
</p>
<pre class="pawn">CreateVehicle<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</pre>
<pre class="pawn"><a href="http://wiki.sa-mp.com/wiki/AddStaticVehicle"><span style="color: #006400;">AddStaticVehicle</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</pre>
<p>Если вы нажмёте на одну из них и посмотрите в статус окно (окно внизу редактора), вы увидите их синтаксис (какую информацию\параметры вам требуется дать для их работы):
</p>
<pre class="pawn"><span style="color: #66cc66;">&#91;</span>a_samp.inc<span style="color: #66cc66;">&#93;</span> <span style="color: #228b22; font-weight: bold;">native</span> CreateVehicle<span style="color: #66cc66;">&#40;</span>vehicletype, <span style="color: orange;">Float</span>:x, <span style="color: orange;">Float</span>:y, <span style="color: orange;">Float</span>:z, <span style="color: orange;">Float</span>:rotation, color1, color2<span style="color: #66cc66;">&#41;</span>;</pre>
<pre class="pawn"><span style="color: #66cc66;">&#91;</span>a_samp.inc<span style="color: #66cc66;">&#93;</span> <span style="color: #228b22; font-weight: bold;">native</span> <a href="http://wiki.sa-mp.com/wiki/AddStaticVehicle"><span style="color: #006400;">AddStaticVehicle</span></a><span style="color: #66cc66;">&#40;</span>modelid, <span style="color: orange;">Float</span>:spawn_x, <span style="color: orange;">Float</span>:spawn_y, <span style="color: orange;">Float</span>:spawn_z, <span style="color: orange;">Float</span>:z_angle, color1, color2<span style="color: #66cc66;">&#41;</span>;</pre>
<p>Они очень похожи друг на друга, но вот здесь важно знать одну вещь: CreateVehicle создает авто ОДИН раз, а AddStaticVehicle создаёт точку возрождения данного авто. Они должны выполняться с начала игры, поэтому их следует поместить в вызываемую функцию "<i><b>OnGameModeInit()</b></i>".
</p>
<div class="thumb tright"><div style="width:302px;"><a href="Image_Car_colors.jpg.html" class="internal" title="Доступные цвета авто"><img src="../upload/thumb/8/8a/Car_colors.jpg/300px-Car_colors.jpg" alt="Доступные цвета авто" width="300" height="100" longdesc="Image_Car_colors.jpg.html" /></a>  <div class="thumbcaption" ><div class="magnify" style="float:right"><a href="Image_Car_colors.jpg.html" class="internal" title="Enlarge"><img src="../skins/common/images/magnify-clip.png" width="15" height="11" alt="Enlarge" /></a></div>Доступные цвета авто</div></div></div>
<p>Значения modelid/vehicletype можно найти в файле vehicles.ide, числа с плавающей запятой - просто не целые числа, обычно координаты и направления. Номера цветов можно найти в файле carcols.dat, посмотрите на сноску и выберите цвет, который хотите. Так "<i><b>black</b></i>" это "<i><b>0</b></i>", "<i><b>taxi yellow</b></i>" это "<i><b>6</b></i>", "<i><b>currant blue poly</b></i>" это "<i><b>32</b></i>" и т.д., "<i><b>-1</b></i>" означает случайный цвет (из базовых цветов этой машины, которые хранятся в файле carcols.dat).  Если вы хотите получить позицию для будущей машины, войдите в debug-режим, выберите машину, войдите в нее и напишите "<i><b>/save</b></i>", после этого откройте файл "<i><b>savedpositions.txt</b></i>" и копируйте линию.  Если вы хотите добавить машину в режиме отладки (debug-mode), напишите "<i><b>/v &lt;vehicleid&gt;</b></i>" во время игры и машина появится (id машины берется опять же из vehicles.ide), или напишите "<i><b>/vsel</b></i>" для вывода списка машин с их id.</p>
<p>Я получил такие координаты:
</p>
<pre class="pawn"><span style="color: #4169e1;">2040.2279</span>, <span style="color: #4169e1;">1344.4127</span>, <span style="color: #4169e1;">11.0</span>, <span style="color: #4169e1;">3.5436</span></pre>
<p>Note: These are called floats,  11.0 is a float despite being whole, any whole number being used as a float must have a trailing "<i><b>.0</b></i>" to denote it as a float.  These numbers are in the english format of using a decimal point ("<i><b>.</b></i>"), commas are used to separate parameters.  Also remember the 4th number is angle, so if we now add the following line to the game mode in OnGameModeInit, recompile and test, we will get a bright pink infernus outside the casio which is the default spawn position for cj.  Note: on a car which uses the secondary color (such as a cop car (id 596)) this would be a pink and blue car as that is the secondary color.
</p>
<pre class="pawn"><a href="http://wiki.sa-mp.com/wiki/AddStaticVehicle"><span style="color: #006400;">AddStaticVehicle</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #4169e1;">411</span>, <span style="color: #4169e1;">2040.2279</span>, <span style="color: #4169e1;">1344.4127</span>, <span style="color: #4169e1;">10.6719</span>, <span style="color: #4169e1;">3.5436</span>, <span style="color: #4169e1;">126</span>, <span style="color: #4169e1;">54</span><span style="color: #66cc66;">&#41;</span>;</pre>
<p>Now you can easilly go about saving positions and creating as many cars as you want (up to an engine defined limit of 254 individual cars, 50 different types of car).  The spawns saved to the file will have "<i><b>-1, -1</b></i>" as the colors by default.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="%25D0%25A3%25D1%2587%25D0%25B5%25D0%25B1%25D0%25BD%25D0%25B8%25D0%25BA_PAWN_RU.html" title="Edit section: Ограничение игрового мира">edit</a>]</div><a name=".D0.9E.D0.B3.D1.80.D0.B0.D0.BD.D0.B8.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B8.D0.B3.D1.80.D0.BE.D0.B2.D0.BE.D0.B3.D0.BE_.D0.BC.D0.B8.D1.80.D0.B0"></a><h2> Ограничение игрового мира </h2>
<p>А что, если нужно, чтобы игра происходила на определённой территории? В этом случае прибегнем к функции SetPlayerWorldBounds и, для начала, посмотрим её синтаксис:</p>
<pre>SetPlayerWorldBounds(playerid,Float:x_max,Float:x_min,Float:y_max,Float:y_min)
</pre>
<p>Где "<i><b>playerid</b></i>" - ID игрока, "<i><b>Float:x_max</b></i>", "<i><b>Float:x_min</b></i>" - максимальные и минимальные x-координаты куда игрок может попасть, а "<i><b>Float:y_max</b></i>" и "<i><b>Float:y_min</b></i>" - максимальные и минимальные y-координаты куда игрок может попасть.</p>
<p>Пора опробовать эту функцию на деле. Вставим эту функцию в вызываемую функцию OnPlayerSpawn:</p>
<pre class="pawn"><span style="color: #228b22; font-weight: bold;">public</span> <a href="http://wiki.sa-mp.com/wiki/OnPlayerSpawn"><span style="color: #dc143c">OnPlayerSpawn</span></a><span style="color: #66cc66;">&#40;</span>playerid<span style="color: #66cc66;">&#41;</span>
 <span style="color: #66cc66;">&#123;</span>
 	<a href="http://wiki.sa-mp.com/wiki/SetPlayerWorldBounds"><span style="color: #006400;">SetPlayerWorldBounds</span></a><span style="color: #66cc66;">&#40;</span>playerid,<span style="color: #4169e1;">1994.9497</span>,<span style="color: #4169e1;">1839.3379</span>,<span style="color: #4169e1;">-1333.2124</span>,<span style="color: #4169e1;">-1472.2440</span><span style="color: #66cc66;">&#41;</span>;
 	<span style="color: orange; font-weight: bold;">return</span> <span style="color: #4169e1;">1</span>;
 <span style="color: #66cc66;">&#125;</span></pre>
<p>И, наконец, скомпилируем функцию. Теперь вы можете прокатиться на велосипеде в пределах парка с рампами в Лос Сантосе.</p>
<div class="printfooter">
Retrieved from "<a href="http://localhost../wiki/%25D0%25A3%25D1%2587%25D0%25B5%25D0%25B1%25D0%25BD%25D0%25B8%25D0%25BA_PAWN_RU.html">http://localhost../wiki/%25D0%25A3%25D1%2587%25D0%25B5%25D0%25B1%25D0%25BD%25D0%25B8%25D0%25BA_PAWN_RU.html</a>"</div>
			<div id="catlinks"><p class='catlinks'><a href="Special_Categories.html" title="Special:Categories">Category</a>: <span dir='ltr'><a href="Category_Tutorials_RU.html" title="Category:Tutorials RU">Tutorials RU</a></span></p></div>			<!-- end content -->
			<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<ul>
				 <li id="ca-nstab-main" class="selected"><a href="%25D0%25A3%25D1%2587%25D0%25B5%25D0%25B1%25D0%25BD%25D0%25B8%25D0%25BA_PAWN_RU.html">Article</a></li>
				 <li id="ca-talk" class="new"><a href="Talk_%25D0%25A3%25D1%2587%25D0%25B5%25D0%25B1%25D0%25BD%25D0%25B8%25D0%25BA_PAWN_RU.html">Discussion</a></li>
				 <li id="ca-edit"><a href="%25D0%25A3%25D1%2587%25D0%25B5%25D0%25B1%25D0%25BD%25D0%25B8%25D0%25BA_PAWN_RU.html">Edit</a></li>
				 <li id="ca-history"><a href="%25D0%25A3%25D1%2587%25D0%25B5%25D0%25B1%25D0%25BD%25D0%25B8%25D0%25BA_PAWN_RU.html">History</a></li>
		</ul>
	</div>

	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage"><a href="../wiki-archive.html">Main Page</a></li>
				<li id="n-help"><a href="Help_Contents.html">Help</a></li>
			</ul>
		</div>
	</div>
	
	<div id="p-lang" class="portlet">
		<h5>In other languages</h5>
		<div class="pBody">
			<ul>
				<li class="interwiki-en"><a href="PAWN_tutorial.html">English</a></li>
			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../skins/common/images/poweredby_mediawiki_88x31.png" alt="MediaWiki" /></a></div>
			<ul id="f-list">
				<li id="viewcount">This page has been accessed 44,006 times.</li>
				<li id="credits">This page was last modified 13:06, 24 March 2017 by SA-MP Wiki user <a href="User_OstGot.html" title="User:OstGot">OstGot</a>. Based on work by SA-MP Wiki user(s) <a href="User_MazaHACKa.html" class="new" title="User:MazaHACKa">MazaHACKa</a>.</li>
				<li id="privacy"><a href="SA-MP_Wiki_Privacy_policy.html" title="SA-MP Wiki:Privacy policy">Privacy policy</a></li>
				<li id="about"><a href="SA-MP_Wiki_About.html" title="SA-MP Wiki:About">About SA-MP Wiki</a></li>
				<li id="disclaimer"><a href="SA-MP_Wiki_General_disclaimer.html" title="SA-MP Wiki:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
	<script type="text/javascript"> if (window.runOnloadHook) runOnloadHook();</script>
</div>
<!-- Served by forum in 4.17 secs. -->
</body></html>
