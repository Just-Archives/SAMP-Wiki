<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="keywords" content="PAWN tutorial,Main Page,OnPlayerDisconnect,Scripting Basics,Scripting Editors,Server Plugins,Windows Server,Scripting Callbacks,Scripting Functions,Tutorials" />
<link rel="shortcut icon" href="../favicon.html" />
		<title>PAWN tutorial - SA-MP Wiki</title>
		<style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "../skins/monobook/main8f14.css?7"; /*]]>*/</style>
		<link rel="stylesheet" type="text/css" media="print" href="../skins/common/commonPrint.css" />
		<!--[if lt IE 5.5000]><style type="text/css">@import "../skins/monobook/IE50Fixes.css";</style><![endif]-->
		<!--[if IE 5.5000]><style type="text/css">@import "../skins/monobook/IE55Fixes.css";</style><![endif]-->
		<!--[if IE 6]><style type="text/css">@import "../skins/monobook/IE60Fixes.css";</style><![endif]-->
		<!--[if IE 7]><style type="text/css">@import "../skins/monobook/IE70Fixes.css?1";</style><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="../skins/common/IEFixes.js"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
		<script type="text/javascript">var skin = 'monobook';var stylepath = '../skins';</script>
		<script type="text/javascript" src="../skins/common/wikibits.js"><!-- wikibits js --></script>
		<script type="text/javascript" src="../raw/gen.js"><!-- site js --></script>
		<style type="text/css">/*<![CDATA[*/
@import "../raw/MediaWiki_Common.css";
@import "../raw/MediaWiki_Monobook.css";
@import "../raw/gen.css";
/*]]>*/</style>
		<!-- Head Scripts -->
			</head>
<body  class="ns-0 ltr">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 class="firstHeading">PAWN tutorial</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From SA-MP Wiki</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<div class="scripting" style="color: #4378A4; background-color: #FFFFFF; margin: 2px; margin-bottom: 10px;"><div align="center" style="border: 1px solid #AAAAAA; padding: 3px; padding-left: 5px;"><a href="../wiki-archive.html" title="Main Page">Main Page</a> | <a href="Category_Scripting_Functions.html" title="Category:Scripting Functions">Scripting Functions</a> | <a href="Category_Scripting_Callbacks.html" title="Category:Scripting Callbacks">Scripting Callbacks</a> | <a href="Scripting_Basics.html" title="Scripting Basics">Scripting Basics</a> | <a href="Server_Plugins.html" title="Server Plugins">Server Plugins</a> | <a href="Category_Tutorials.html" title="Category:Tutorials">Tutorials</a></div></div><br />
<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class='toclevel-1'><a href="#Making_a_basic_deathmatch"><span class="tocnumber">1</span> <span class="toctext">Making a basic deathmatch</span></a></li>
<li class='toclevel-1'><a href="#Getting_co-ordinates.2C_angles_and_model_ids"><span class="tocnumber">2</span> <span class="toctext">Getting co-ordinates, angles and model ids</span></a></li>
<li class='toclevel-1'><a href="#Introduction_to_functions_and_callbacks"><span class="tocnumber">3</span> <span class="toctext">Introduction to functions and callbacks</span></a></li>
<li class='toclevel-1'><a href="#Making_a_team_deathmatch"><span class="tocnumber">4</span> <span class="toctext">Making a team deathmatch</span></a></li>
<li class='toclevel-1'><a href="#Vehicles"><span class="tocnumber">5</span> <span class="toctext">Vehicles</span></a></li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="PAWN_tutorial.html" title="Edit section: Making a basic deathmatch">edit</a>]</div><a name="Making_a_basic_deathmatch"></a><h2>Making a basic deathmatch</h2>
<p>Making a basic deatchmatch in PAWN couldn't be simpler.  Simply open up Pawno (see <a href="Scripting_Editors.html" title="Scripting Editors">Scripting Editors</a>) and click new.  There you have it, your first script.  To run it first save it (most people save it to "<i><b>&lt;San Andreas Install Directory&gt;/samp/gamemodes/src/</b></i>" but it is easier (for local testing) to save it to "<i><b>&lt;SA&gt;/samp/gamemodes/</b></i>"), then click the button on the toolbar to the immediate left of the blue arrow button.  This will compile your .pwn file to a .amx in the same folder, however for the game to see it it needs to be in "<i><b>&lt;SA&gt;/samp/gamemodes/</b></i>" (see why saving there was easier, that makes it already there after compiling).  Now to test your map you will need to <a href="Windows_Server.html" title="Windows Server">set up a local server</a> and change to your mode (type "<i><b>changemode &lt;your mode name&gt;</b></i>" in the server window).<br /><br />
</p><p>If all that worked, when you connect to your server through the sa-mp client and the game starts you should appear outside a casino in Las Venturas.  Unfortunately you won't be able to see the character you are selecting (there is currently only one) but we can easily change that later.  It is also not a very interesting deathmatch as you only have fists to fight with and no opponents, but as this is a local server there is currently not a lot we can do about the second problem.<br /><br />
</p><p>Now the first thing you are likely to want to add to your mode is weapons, these are controlled on a "per class" basis.  Every player you have to select from at the start of a game (or later if you change) is called a player "<i><b>class</b></i>".  They may all have the same weapons or all different, or a combination.  You set each classes weapons separately, so to make them all have the same weapon you would simply copy the weapon data and add it to each class, this will guarantee a balanced match but is not too interesting, however it is up to you.  In the editor search for this line:
</p>
<pre class="pawn"><a href="http://wiki.sa-mp.com/wiki/AddPlayerClass"><span style="color: #006400;">AddPlayerClass</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #4169e1;">0</span>, <span style="color: #4169e1;">1958.3783</span>, <span style="color: #4169e1;">1343.1572</span>, <span style="color: #4169e1;">15.3746</span>, <span style="color: #4169e1;">269.1425</span>, <span style="color: #4169e1;">0</span>, <span style="color: #4169e1;">0</span>, <span style="color: #4169e1;">0</span>, <span style="color: #4169e1;">0</span>, <span style="color: #4169e1;">0</span>, <span style="color: #4169e1;">0</span><span style="color: #66cc66;">&#41;</span>;</pre>
<p>This is a class definition, the parameters are as follows:
</p>
<pre class="pawn"><a href="http://wiki.sa-mp.com/wiki/AddPlayerClass"><span style="color: #006400;">AddPlayerClass</span></a><span style="color: #66cc66;">&#40;</span>Player model, X, Y, Z, A, Weapon <span style="color: #4169e1;">0</span>, Ammo <span style="color: #4169e1;">0</span>, Weapon <span style="color: #4169e1;">1</span>, Ammo <span style="color: #4169e1;">1</span>, Weapon <span style="color: #4169e1;">2</span>, Ammo <span style="color: #4169e1;">2</span><span style="color: #66cc66;">&#41;</span>;</pre>
<p>Player model can be got from "<i><b>peds.ide</b></i>", "<i><b>X</b></i>", "<i><b>Y</b></i>" and "<i><b>Z</b></i>"  are the co-ordinates of where the player will spawn when selected and "<i><b>A</b></i>" is their facing angle, there is one spawn point per class, however this can be got around with coding which will be covered later.  The weapon numbers can be found <a href="http://www.gtaforums.com/index.php?showtopic=205020" class='external text' title="http://www.gtaforums.com/index.php?showtopic=205020" rel="nofollow">here</a> and the ammo numbers are simply the amount of ammo you want to give the player per weapon (melee weapon ammo is always 0).<br /><br />
</p><p>Now copy this line:
</p>
<pre class="pawn"><a href="http://wiki.sa-mp.com/wiki/AddPlayerClass"><span style="color: #006400;">AddPlayerClass</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #4169e1;">102</span>, <span style="color: #4169e1;">1958.3783</span>, <span style="color: #4169e1;">1343.1572</span>, <span style="color: #4169e1;">15.3746</span>, <span style="color: #4169e1;">269.1425</span>, <span style="color: #4169e1;">5</span>, <span style="color: #4169e1;">0</span>, <span style="color: #4169e1;">22</span>, <span style="color: #4169e1;">100</span>, <span style="color: #4169e1;">32</span>, <span style="color: #4169e1;">50</span><span style="color: #66cc66;">&#41;</span>;</pre>
<p>and place it under the line you found in your script.  You will now have a choice ingame between CJ with nothing and a Balla with a baseball bat, pistol and Tec9, if you want to even this up try adding your own weapons to CJ or adding more player classes under these with other weapons.<br /><br /><b>Note:</b> the weapons listed on the page linked to above which say "<i><b>(crashes if you try to fire)</b></i>" or "<i><b>(Unusable)</b></i>" do not work with SA-MP either.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="PAWN_tutorial.html" title="Edit section: Getting co-ordinates, angles and model ids">edit</a>]</div><a name="Getting_co-ordinates.2C_angles_and_model_ids"></a><h2>Getting co-ordinates, angles and model ids</h2>
<p>You will probably want to move some of your spawn points about so everyone doesn't spawn in the same place, which would make a rather boring deathmatch and camping amazingly easy.  This is where the debug mode comes in.  Run "<i><b>samp_debug.exe</b></i>" in your San Andreas root directory and whenever you want to save a co-ordinate type "<i><b>/save</b></i>" in the game (press "<i><b>t</b></i>" or the key under escape to bring up the text/chat prompt).  This will save your current position, angle and playerid to a file called "<i><b>savedpositions.txt</b></i>" in your SA root directory.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="PAWN_tutorial.html" title="Edit section: Introduction to functions and callbacks">edit</a>]</div><a name="Introduction_to_functions_and_callbacks"></a><h2>Introduction to functions and callbacks</h2>
<p>Before we can continue you will need to be introduced to callbacks.  These are the chunks of code already in your gamemode that look something like this:
</p>
<pre class="pawn"><span style="color: #228b22; font-weight: bold;">public</span> <a href="http://wiki.sa-mp.com/wiki/OnPlayerDisconnect"><span style="color: #dc143c">OnPlayerDisconnect</span></a><span style="color: #66cc66;">&#40;</span>playerid<span style="color: #66cc66;">&#41;</span>
<span style="color: #66cc66;">&#123;</span>
    <a href="http://wiki.sa-mp.com/wiki/printf"><span style="color: #006400;">printf</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #b22222;">&quot;OnPlayerDisconnect(%d)&quot;</span>, playerid<span style="color: #66cc66;">&#41;</span>;
    <span style="color: orange; font-weight: bold;">return</span> <span style="color: #4169e1;">1</span>;
<span style="color: #66cc66;">&#125;</span></pre>
<p>This is the OnPlayerDisconnect callback, that means this section of code is run by the server whenever a player disconnects, so if you want to show a big message on the screen when a player leaves you would put the code for that here.  All the callbacks the game uses (except 2, but they are used by filterscripts, not gamemodes and are not covered here) are in your file, you cannot make up your own.  Most of them appear as the one above does, but some (i.e. "<i><b>OnPlayerCommandText</b></i>", "<i><b>OnPlayerRequestClass</b></i>", "<i><b>OnGameModeInit</b></i>" and "<i><b>main</b></i>" (which is not strictly a callback and never has more than your game title)) have other bits in already, either to make the game work or to show you what to do there.  You may also use other, similar blocks (as we are about to) which look the same but are called functions, these have to be called by you yourself.  Here is a function called "<i><b>IMadeThis</b></i>" (note the lack of spaces).
</p>
<pre class="pawn">IMadeThis<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>
<span style="color: #66cc66;">&#123;</span>
    <span style="color: #808080; font-style: italic;">// This is a comment and is ignored by the game/compiler</span>
    <span style="color: #808080; font-style: italic;">/* So 	
        is
        this */</span>
    <a href="http://wiki.sa-mp.com/wiki/print"><span style="color: #006400;">print</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #b22222;">&quot;This will be printed to the server window&quot;</span><span style="color: #66cc66;">&#41;</span>;
    <span style="color: orange; font-weight: bold;">return</span> <span style="color: #4169e1;">0</span>;
<span style="color: #66cc66;">&#125;</span></pre>
<p>You may have also noticed a very quick introduction to comments there, everything on a line after "<i><b>//</b></i>" will be ignored, as will anything anywhere between "<i><b>/*</b></i>" and "<i><b>*/</b></i>".  As a function is not called by the game we need to call it ourselves from a callback, this is dead easy as most of the commands you use to code with are in fact premade functions (commands are in fact different), so if you placed:
</p>
<pre class="pawn">IMadeThis<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</pre>
<p>in your <a href="OnPlayerDisconnect.html" title="OnPlayerDisconnect">OnPlayerDisconnect</a> callback (it must be between the "<i><b>{</b></i>" and "<i><b>}</b></i>" and also before the "<i><b>return 1;</b></i>" it would run that function and print a message in the server window when you disconnected (remember the other things in there are ignored).  We don't generally want to print things to the server window and all the "<i><b>print</b></i>" and "<i><b>printf</b></i>" functions already in the file are generally removed by the coder.  Only things between the braces are in the function/callback (from now on function refers to callbacks as well as they are a special case of function), the line above is the name of the function.  "<i><b>public</b></i>" means the function can be run by any other bit of code, this basically means your code can be run when you call it, we're not worried about private functions as they are not generally used in SA-MP (if at all).  The brackets after the function name enclose the parameters list, we haven't covered these yet but you can see an example of their usage in some of the callbacks in your blank file, note that those parameters are automatically passed when the game calls the function, if we are using a custom functions (i.e. not a callback) and we want to use some parameters we will need to pass them ourselves.  One tiny other thing which should be mentioned is that all lines apart from lines with braces on (and even them in certain circumstances, but these will be covered later) and lines directly before an open brace (braces may be on the end of that line or, as shown here, on a new line), end with a semicolon to denote the end of a process.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="PAWN_tutorial.html" title="Edit section: Making a team deathmatch">edit</a>]</div><a name="Making_a_team_deathmatch"></a><h2>Making a team deathmatch</h2>
<p>OK, now you know how to make classes and place them about we will show you how to set teams, this will be the first bit of real coding but is fairly easy.  I will just be using the two classes described on this page so if you have more remove them for now or start a new mode and make sure only those two are in.  Classes are numbered in order from 0, so the first class in your file is 0, the second is 1 and so on (computers and programs nearly always start from 0 in counting (you will find that your playerid in a test game is 0)).  We want to set the team based on which class they choose (either Grove or Balla), you may look at the callbacks and think that this would go in the OnPlayerRequestClass function, and you would be correct.  When the select their class you want to set the team based on that, we can't do it in the OnPlayerSpawn function as at that point we don't know the class they have selected (that is a parameter and only parameters we are passed or which are global in your script (we will cover this later) can be used in any function).  First we need to define our teams, under the "<i><b>#include</b></i>" line(s) at the top of your file add these lines:
</p>
<pre class="pawn"><span style="color: #6b8e23;">#define TEAM_GROVE 1</span>
<span style="color: #6b8e23;">#define TEAM_BALLA 2</span>
<span style="color: #6b8e23;">#define TEAM_GROVE_COLOR 0x00FF00AA // Bright Green (in RGBA format)</span>
<span style="color: #6b8e23;">#define TEAM_BALLA_COLOR 0xFF00FFAA // Bright Purple</span></pre>
<p>If you want to alter the colors, that's fine, just remember that the last two digits are the alpha and the lower that is the less you can see the color.  Defines are purely replacements, now if you ever want to use the number 1 in your script you can use TEAM_GROVE instead, this is not a good idea for normal calculations as it makes them harder to read, but for using to denote teams, which are only denoted by a number, it makes it a lot clearer what's going on (and makes it very easy to change the teams around or modify later as you need only change the 1 in the define rather than all the instances of it throughout the code.  When the code is compiled, all the "<i><b>TEAM_GROVE</b></i>"s will be replaced by 1, it is not like a variable, it is a constant, it doesn't change.  Now under those lines add:
</p>
<pre class="pawn"><span style="color: #228b22; font-weight: bold;">new</span> gTeam<span style="color: #66cc66;">&#91;</span><span style="color: #E9967A; font-weight: bold;">MAX_PLAYERS</span><span style="color: #66cc66;">&#93;</span>;</pre>
<p>This is called a global array.  An array is basically lots of variables (places you store data to read and write) clumped together to store lots of data at once.  The "<i><b>MAX_PLAYERS</b></i>" is a pre-defined constant (done in exactly the same way as we did our defines.  MAX_PLAYERS is actually set at 500 in SA-MP 0.3a, so this means that our array can store up to 500 pieces of data.  The g on the name means global, but that doesn't make it global (it just makes it easier to tell what variables do what, defining it outside a function means it is global and can be used by all our functions.  Any variable defined in a function is local to that function and it can't have the same name as another variable in the same function or a global variable (which is also why the g is useful), it can however have the same name as another variable in another function.  All the "<i><b>playerid</b></i>" variables in your blank script are in fact all independent variables, each local to a different function, however they are all passed the same data, but just remember that any functions you make won't automatically have that data.  Now we have that set up we can set the teams:
</p>
<pre class="pawn">SetPlayerTeamFromClass<span style="color: #66cc66;">&#40;</span>playerid, classid<span style="color: #66cc66;">&#41;</span>
<span style="color: #66cc66;">&#123;</span>
	<span style="color: #4169e1;">if</span> <span style="color: #66cc66;">&#40;</span>classid == <span style="color: #4169e1;">0</span><span style="color: #66cc66;">&#41;</span>
	<span style="color: #66cc66;">&#123;</span>
		gTeam<span style="color: #66cc66;">&#91;</span>playerid<span style="color: #66cc66;">&#93;</span> = TEAM_GROVE;
	<span style="color: #66cc66;">&#125;</span>
	<span style="color: #4169e1;">else</span>
	<span style="color: #66cc66;">&#123;</span>
		gTeam<span style="color: #66cc66;">&#91;</span>playerid<span style="color: #66cc66;">&#93;</span> = TEAM_BALLA;
	<span style="color: #66cc66;">&#125;</span>
<span style="color: #66cc66;">&#125;</span></pre>
<p>Place that code OUTSIDE a function in your code (as it is a new function) and put these lines as the first things after the open curly braces in your OnPlayerRequestClass callback (notice the way the variables are not global so we are having to pass them to out function too):
</p>
<pre class="pawn">SetPlayerTeamFromClass<span style="color: #66cc66;">&#40;</span>playerid, classid<span style="color: #66cc66;">&#41;</span>;</pre>
<p>This will save the players team to an array through our new function.  Data in an array is referenced by a number, so array[0] is the first item of data, array[1] is the second and so on, as we are using gTeam[playerid], depending on which playerid we are passed will define where in the array to store the data, so for player 5 their data will be stored at array position 5 (remember, this is the 6th piece of data).  Now copy this function:
</p>
<pre class="pawn">SetPlayerToTeamColor<span style="color: #66cc66;">&#40;</span>playerid<span style="color: #66cc66;">&#41;</span>
<span style="color: #66cc66;">&#123;</span>
	<span style="color: #4169e1;">if</span> <span style="color: #66cc66;">&#40;</span>gTeam<span style="color: #66cc66;">&#91;</span>playerid<span style="color: #66cc66;">&#93;</span> == TEAM_GROVE<span style="color: #66cc66;">&#41;</span>
	<span style="color: #66cc66;">&#123;</span>
		<a href="http://wiki.sa-mp.com/wiki/SetPlayerColor"><span style="color: #006400;">SetPlayerColor</span></a><span style="color: #66cc66;">&#40;</span>playerid, TEAM_GROVE_COLOR<span style="color: #66cc66;">&#41;</span>;
	<span style="color: #66cc66;">&#125;</span>
	<span style="color: #4169e1;">else</span> <span style="color: #4169e1;">if</span> <span style="color: #66cc66;">&#40;</span>gTeam<span style="color: #66cc66;">&#91;</span>playerid<span style="color: #66cc66;">&#93;</span> == TEAM_BALLA<span style="color: #66cc66;">&#41;</span>
	<span style="color: #66cc66;">&#123;</span>
		<a href="http://wiki.sa-mp.com/wiki/SetPlayerColor"><span style="color: #006400;">SetPlayerColor</span></a><span style="color: #66cc66;">&#40;</span>playerid, TEAM_BALLA_COLOR<span style="color: #66cc66;">&#41;</span>;
	<span style="color: #66cc66;">&#125;</span>
<span style="color: #66cc66;">&#125;</span></pre>
<p>And add the following line to OnPlayerSpawn:
</p>
<pre class="pawn">SetPlayerToTeamColor<span style="color: #66cc66;">&#40;</span>playerid<span style="color: #66cc66;">&#41;</span>;</pre>
<p>We now have our teams, but what have we actually done?
</p>
<pre class="pawn">	<span style="color: #4169e1;">if</span> <span style="color: #66cc66;">&#40;</span>classid == <span style="color: #4169e1;">0</span><span style="color: #66cc66;">&#41;</span>
	<span style="color: #66cc66;">&#123;</span>
		gTeam<span style="color: #66cc66;">&#91;</span>playerid<span style="color: #66cc66;">&#93;</span> = TEAM_GROVE;
	<span style="color: #66cc66;">&#125;</span></pre>
<p>In our first function, we check which class they chose (remember we said that the first class defined in your file was class 0?) "<i><b>==</b></i>" means "is equal to", a single equals sign simply sets the variable to the number given (as seen on the next line but one).  The curly braces separate the functions between them from the rest of the code, bits in there are only executed if the selected class is 0 (cj), if it isn't, the else command comes into play and executes instead (this executes whenever the "<i><b>if</b></i>" command is false (i.e. the class isn't 0)), since we only have two classes to choose from this must mean we're Balla:
</p>
<pre class="pawn">	<span style="color: #4169e1;">else</span>
	<span style="color: #66cc66;">&#123;</span>
		gTeam<span style="color: #66cc66;">&#91;</span>playerid<span style="color: #66cc66;">&#93;</span> = TEAM_BALLA;
	<span style="color: #66cc66;">&#125;</span></pre>
<p>We don't need a return here as there is no data to return.<br /><br />
</p><p>The second half set the players' color when they spawn, so you can tell who's on which team.  As we saved their team to a global array, we can still access the data even though it is in a separate function.
</p>
<pre class="pawn">	<span style="color: #4169e1;">if</span> <span style="color: #66cc66;">&#40;</span>gTeam<span style="color: #66cc66;">&#91;</span>playerid<span style="color: #66cc66;">&#93;</span> == TEAM_GROVE<span style="color: #66cc66;">&#41;</span>
	<span style="color: #66cc66;">&#123;</span>
		<a href="http://wiki.sa-mp.com/wiki/SetPlayerColor"><span style="color: #006400;">SetPlayerColor</span></a><span style="color: #66cc66;">&#40;</span>playerid, TEAM_GROVE_COLOR<span style="color: #66cc66;">&#41;</span>;
	<span style="color: #66cc66;">&#125;</span></pre>
<p>Hopefully you can see what this is doing now, if the player who just spawned (as referenced by playerid) is in TEAM_GROVE, we set their color to TEAM_GROVEs color.
</p>
<pre class="pawn">	<span style="color: #4169e1;">else</span> <span style="color: #4169e1;">if</span> <span style="color: #66cc66;">&#40;</span>gTeam<span style="color: #66cc66;">&#91;</span>playerid<span style="color: #66cc66;">&#93;</span> == TEAM_BALLA<span style="color: #66cc66;">&#41;</span>
	<span style="color: #66cc66;">&#123;</span>
		<a href="http://wiki.sa-mp.com/wiki/SetPlayerColor"><span style="color: #006400;">SetPlayerColor</span></a><span style="color: #66cc66;">&#40;</span>playerid, TEAM_BALLA_COLOR<span style="color: #66cc66;">&#41;</span>;
	<span style="color: #66cc66;">&#125;</span></pre>
<p>This next section is a little different, it could easilly have been done like this:
</p>
<pre class="pawn">	<span style="color: #4169e1;">else</span>
	<span style="color: #66cc66;">&#123;</span>
		<a href="http://wiki.sa-mp.com/wiki/SetPlayerColor"><span style="color: #006400;">SetPlayerColor</span></a><span style="color: #66cc66;">&#40;</span>playerid, TEAM_BALLA_COLOR<span style="color: #66cc66;">&#41;</span>;
	<span style="color: #66cc66;">&#125;</span></pre>
<p>But the way it is done allows you to set their color to TEAM_BALLAs color only if the first part is false (as sorted by the ELSE) AND if they are in TEAM_BALLA, this allows you to add more options by adding more "<i><b>else if ()</b></i>" blocks to the end as one will only be executed if all the blocks before it weren't.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="PAWN_tutorial.html" title="Edit section: Vehicles">edit</a>]</div><a name="Vehicles"></a><h2>Vehicles</h2>
<p>OK, if you have previous chapters you should have a very basic deathmatch or team-deathmatch with spawns placed wherever you want, so lets add some vehicles.  Most of the commands in PAWN do pretty much exactly as they're named, we want to add a vehicle so lets look for vehicle commands:
</p>
<pre class="pawn">CreateVehicle<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;
&nbsp;
<a href="http://wiki.sa-mp.com/wiki/AddStaticVehicle"><span style="color: #006400;">AddStaticVehicle</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</pre>
<p>If you click on either of these and look in the status bar (the bar at the bottom of the editor) you will see their syntax (what information/parameters you need to give them to work):
</p>
<pre>[a_samp.inc] native CreateVehicle(vehicletype, Float:x, Float:y, Float:z, Float:rotation, color1, color2, respawn_time);

[a_samp.inc] native AddStaticVehicle(modelid, Float:spawn_x, Float:spawn_y, Float:spawn_z, Float:z_angle, color1, color2);
</pre>
<p>Now they both look equally as good, but this is where prior knowledge comes in, CreateVehicle only places one car ingame, AddStaticVehicle creates a vehicle spawn, so when the car is destroyed or desynched it will reappear back where you placed the spawn.  These need to be created at the start of the game so you would place this in your "<i><b>OnGameModeInit()</b></i>" callback.<br /><br />
</p>
<div class="thumb tright"><div style="width:302px;"><a href="Image_Car_colors.jpg.html" class="internal" title="List of available car colors"><img src="../upload/thumb/8/8a/Car_colors.jpg/300px-Car_colors.jpg" alt="List of available car colors" width="300" height="100" longdesc="Image_Car_colors.jpg.html" /></a>  <div class="thumbcaption" ><div class="magnify" style="float:right"><a href="Image_Car_colors.jpg.html" class="internal" title="Enlarge"><img src="../skins/common/images/magnify-clip.png" width="15" height="11" alt="Enlarge" /></a></div>List of available car colors</div></div></div>The modelid/vehicletype numbers can be found in your vehicles.ide file, the Floats are just non whole numbers, basically co-ordinates and angles, and the color numbers can be found in your carcols.dat file, look for the reference number for the color you want, so "<i><b>black</b></i>" is "<i><b>0</b></i>", "<i><b>taxi yellow</b></i>" is "<i><b>6</b></i>", "<i><b>currant blue poly</b></i>" is "<i><b>32</b></i>" etc, "<i><b>-1</b></i>" means random (from that car's default colors, found lower in the carcols.dat file).  If you want to get the position for a vehicle, go into debug mode, select your vehicle, get in and type "<i><b>/save</b></i>" then open up "<i><b>savedpositions.txt</b></i>" and copy the line.  If you want to spawn a vehicle in debug mode, type "<i><b>/v &lt;vehicleid&gt;</b></i>" ingame and that vehicle will spawn (vehicleid is taken again from vehicles.ide), or type "<i><b>/vsel</b></i>" to bring up the vehicle command screen.<br /><br />
<p>I got these co-ordinates:
</p>
<pre>2040.2279, 1344.4127, 11.0, 3.5436
</pre>
<p>Note: These are called floats,  11.0 is a float despite being whole, any whole number being used as a float must have a trailing "<i><b>.0</b></i>" to denote it as a float.  These numbers are in the english format of using a decimal point ("<i><b>.</b></i>"), commas are used to separate parameters.  Also remember the 4th number is angle, so if we now add the following line to the game mode in OnGameModeInit, recompile and test, we will get a bright pink infernus outside the casino which is the default spawn position for CJ.  Note: on a car which uses the secondary color (such as a cop car (id 596)) this would be a pink and blue car as that is the secondary color.
</p>
<pre class="pawn"><a href="http://wiki.sa-mp.com/wiki/AddStaticVehicle"><span style="color: #006400;">AddStaticVehicle</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #4169e1;">411</span>, <span style="color: #4169e1;">2040.2279</span>, <span style="color: #4169e1;">1344.4127</span>, <span style="color: #4169e1;">10.6719</span>, <span style="color: #4169e1;">3.5436</span>, <span style="color: #4169e1;">126</span>, <span style="color: #4169e1;">54</span><span style="color: #66cc66;">&#41;</span>;</pre>
<p>Now you can easily go about saving positions and creating as many cars as you want, up to an engine defined limit of 2000 individual cars of any model. However, since vehicles are dynamically streamed, it is a good idea to keep the number of vehicle models below 150.
</p><div class="printfooter">
Retrieved from "<a href="http://localhost../wiki/PAWN_tutorial.html">http://localhost../wiki/PAWN_tutorial.html</a>"</div>
			<div id="catlinks"><p class='catlinks'><a href="Special_Categories.html" title="Special:Categories">Category</a>: <span dir='ltr'><a href="Category_Tutorials.html" title="Category:Tutorials">Tutorials</a></span></p></div>			<!-- end content -->
			<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<ul>
				 <li id="ca-nstab-main" class="selected"><a href="PAWN_tutorial.html">Article</a></li>
				 <li id="ca-talk" class="new"><a href="Talk_PAWN_tutorial.html">Discussion</a></li>
				 <li id="ca-edit"><a href="PAWN_tutorial.html">Edit</a></li>
				 <li id="ca-history"><a href="PAWN_tutorial.html">History</a></li>
		</ul>
	</div>

	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage"><a href="../wiki-archive.html">Main Page</a></li>
				<li id="n-help"><a href="Help_Contents.html">Help</a></li>
			</ul>
		</div>
	</div>
	
	<div id="p-lang" class="portlet">
		<h5>In other languages</h5>
		<div class="pBody">
			<ul>
				<li class="interwiki-ru"><a href="%25D0%25A3%25D1%2587%25D0%25B5%25D0%25B1%25D0%25BD%25D0%25B8%25D0%25BA_PAWN_RU.html">Русский</a></li>
			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../skins/common/images/poweredby_mediawiki_88x31.png" alt="MediaWiki" /></a></div>
			<ul id="f-list">
				<li id="viewcount">This page has been accessed 376,149 times.</li>
				<li id="credits">This page was last modified 13:06, 24 March 2017 by SA-MP Wiki user <a href="User_OstGot.html" title="User:OstGot">OstGot</a>. Based on work by SA-MP Wiki user(s) <a href="User_Vince.html" title="User:Vince">Vince</a>, <a href="User_Dozer.html" title="User:Dozer">Dozer</a> and <a href="User_LaZ.html" title="User:LaZ">LaZ</a>.</li>
				<li id="privacy"><a href="SA-MP_Wiki_Privacy_policy.html" title="SA-MP Wiki:Privacy policy">Privacy policy</a></li>
				<li id="about"><a href="SA-MP_Wiki_About.html" title="SA-MP Wiki:About">About SA-MP Wiki</a></li>
				<li id="disclaimer"><a href="SA-MP_Wiki_General_disclaimer.html" title="SA-MP Wiki:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
	<script type="text/javascript"> if (window.runOnloadHook) runOnloadHook();</script>
</div>
<!-- Served by forum in 0.37 secs. -->
</body></html>
