<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="keywords" content="Command Conversion,OnPlayerCommandText" />
<link rel="shortcut icon" href="../favicon.html" />
		<title>Command Conversion - SA-MP Wiki</title>
		<style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "../skins/monobook/main8f14.css?7"; /*]]>*/</style>
		<link rel="stylesheet" type="text/css" media="print" href="../skins/common/commonPrint.css" />
		<!--[if lt IE 5.5000]><style type="text/css">@import "../skins/monobook/IE50Fixes.css";</style><![endif]-->
		<!--[if IE 5.5000]><style type="text/css">@import "../skins/monobook/IE55Fixes.css";</style><![endif]-->
		<!--[if IE 6]><style type="text/css">@import "../skins/monobook/IE60Fixes.css";</style><![endif]-->
		<!--[if IE 7]><style type="text/css">@import "../skins/monobook/IE70Fixes.css?1";</style><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="../skins/common/IEFixes.js"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
		<script type="text/javascript">var skin = 'monobook';var stylepath = '../skins';</script>
		<script type="text/javascript" src="../skins/common/wikibits.js"><!-- wikibits js --></script>
		<script type="text/javascript" src="../raw/gen.js"><!-- site js --></script>
		<style type="text/css">/*<![CDATA[*/
@import "../raw/MediaWiki_Common.css";
@import "../raw/MediaWiki_Monobook.css";
@import "../raw/gen.css";
/*]]>*/</style>
		<!-- Head Scripts -->
			</head>
<body  class="ns-0 ltr">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 class="firstHeading">Command Conversion</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From SA-MP Wiki</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<div style="width:70%; margin:0 auto 15px auto;">
<table style="padding: 5px; background-color: #ffeecc; border-left: 10px solid #ffcc99;">

<tr>
<td align="left"><a href="Image_32px-Ambox_warning_orange.png.html" class="image" title="Image:32px-Ambox_warning_orange.png"><img src="../upload/6/65/32px-Ambox_warning_orange.png" alt="Image:32px-Ambox_warning_orange.png" width="32" height="28" longdesc="Image_32px-Ambox_warning_orange.png.html" /></a>
</td><td align="center"><span style="font-size:14px;">This article is currently a Work In Progress. It is therefore possible that the content of this article is currently incomplete or incorrect.</span>
</td></tr></table>
</div>
<p><br />
</p>
<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class='toclevel-1'><a href="#From_strcmp"><span class="tocnumber">1</span> <span class="toctext">From strcmp</span></a>
<ul>
<li class='toclevel-2'><a href="#strcmp_to_dcmd"><span class="tocnumber">1.1</span> <span class="toctext">strcmp to dcmd</span></a></li>
<li class='toclevel-2'><a href="#strcmp_to_y_cmd"><span class="tocnumber">1.2</span> <span class="toctext">strcmp to y_cmd</span></a></li>
<li class='toclevel-2'><a href="#strcmp_to_z_cmd"><span class="tocnumber">1.3</span> <span class="toctext">strcmp to z_cmd</span></a></li>
</ul>
</li>
<li class='toclevel-1'><a href="#From_dcmd"><span class="tocnumber">2</span> <span class="toctext">From dcmd</span></a>
<ul>
<li class='toclevel-2'><a href="#dcmd_to_strcmp"><span class="tocnumber">2.1</span> <span class="toctext">dcmd to strcmp</span></a></li>
<li class='toclevel-2'><a href="#dcmd_to_y_cmd"><span class="tocnumber">2.2</span> <span class="toctext">dcmd to y_cmd</span></a></li>
<li class='toclevel-2'><a href="#dcmd_to_zcmd"><span class="tocnumber">2.3</span> <span class="toctext">dcmd to zcmd</span></a></li>
</ul>
</li>
<li class='toclevel-1'><a href="#From_zcmd"><span class="tocnumber">3</span> <span class="toctext">From zcmd</span></a>
<ul>
<li class='toclevel-2'><a href="#zcmd_to_strcmp"><span class="tocnumber">3.1</span> <span class="toctext">zcmd to strcmp</span></a></li>
<li class='toclevel-2'><a href="#zcmd_to_dcmd"><span class="tocnumber">3.2</span> <span class="toctext">zcmd to dcmd</span></a></li>
<li class='toclevel-2'><a href="#zcmd_to_y_cmd"><span class="tocnumber">3.3</span> <span class="toctext">zcmd to y_cmd</span></a></li>
</ul>
</li>
<li class='toclevel-1'><a href="#From_y_cmd"><span class="tocnumber">4</span> <span class="toctext">From y_cmd</span></a>
<ul>
<li class='toclevel-2'><a href="#y_cmd_to_strcmp"><span class="tocnumber">4.1</span> <span class="toctext">y_cmd to strcmp</span></a></li>
<li class='toclevel-2'><a href="#y_cmd_to_dcmd"><span class="tocnumber">4.2</span> <span class="toctext">y_cmd to dcmd</span></a></li>
<li class='toclevel-2'><a href="#y_cmd_to_zcmd"><span class="tocnumber">4.3</span> <span class="toctext">y_cmd to zcmd</span></a></li>
</ul>
</li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<p><br />
There are 4 main command processing systems. Here's a list, in order of efficiency and/or ease of use:
</p>
<ul><li> strcmp - Native
</li><li> dcmd - Macro
</li><li> zcmd - by Zeex
</li><li> y_cmd - by Y_Less
</li></ul>
<p>strcmp is the worst. dcmd is essentially the same, but easier to write the code for. y_cmd and zcmd are MUCH faster alternatives.
</p><p><br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="Command_Conversion.html" title="Edit section: From strcmp">edit</a>]</div><a name="From_strcmp"></a><h2>From strcmp</h2>
<p>strcmp works by comparing the command the player entered with every single command that is possible on your server until it finds the right one. If the command they typed is the last one in the code and you have 500 commands, it's not going to be terribly efficient. The code is also (arguable) the most confusing to write, as there is no support for parameters etc.
It is highly recommended that you do NOT use strcmp, and instead opt for a more efficient command processing system such as ZCMD or Y_CMD.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="Command_Conversion.html" title="Edit section: strcmp to dcmd">edit</a>]</div><a name="strcmp_to_dcmd"></a><h3>strcmp to dcmd</h3>
<p>1. strcmp commands are all held in the <a href="OnPlayerCommandText.html" title="OnPlayerCommandText">OnPlayerCommandText</a> callback, and will look like so:
</p>
<pre class="pawn"><span style="color: #4169e1;">if</span><span style="color: #66cc66;">&#40;</span><a href="http://wiki.sa-mp.com/wiki/strcmp"><span style="color: #006400;">strcmp</span></a><span style="color: #66cc66;">&#40;</span>cmdtext, <span style="color: #b22222;">&quot;/command&quot;</span>, true<span style="color: #66cc66;">&#41;</span> == <span style="color: #4169e1;">0</span><span style="color: #66cc66;">&#41;</span>
<span style="color: #66cc66;">&#123;</span>
    <span style="color: #808080; font-style: italic;">// Code for command</span>
    <span style="color: orange; font-weight: bold;">return</span> <span style="color: #4169e1;">1</span>;
<span style="color: #66cc66;">&#125;</span></pre>
<p><br />
2. Firstly, put the code for the command in a function with a dcmd_ prefix, like so:
</p>
<pre class="pawn">dcmd_command<span style="color: #66cc66;">&#40;</span>playerid, params<span style="color: #66cc66;">&#91;</span><span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">&#41;</span>
<span style="color: #66cc66;">&#123;</span>
    <span style="color: #808080; font-style: italic;">// Code for command</span>
    <span style="color: orange; font-weight: bold;">return</span> <span style="color: #4169e1;">1</span>;
<span style="color: #66cc66;">&#125;</span></pre>
<p>This should be OUTSIDE of all callbacks. NOT under <a href="OnPlayerCommandText.html" title="OnPlayerCommandText">OnPlayerCommandText</a>. It may be wise to put this UNDER/ABOVE (NOT INSIDE!) your <a href="OnPlayerCommandText.html" title="OnPlayerCommandText">OnPlayerCommandText</a> callback.
</p><p><br />
3. Then, replace the code in <a href="OnPlayerCommandText.html" title="OnPlayerCommandText">OnPlayerCommandText</a> (part 1) with this line:
</p>
<pre class="pawn">dcmd<span style="color: #66cc66;">&#40;</span>command, <span style="color: #4169e1;">7</span>, cmdtext<span style="color: #66cc66;">&#41;</span>; <span style="color: #808080; font-style: italic;">// 7 is the length of 'command' - important!</span></pre>
<p><br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="Command_Conversion.html" title="Edit section: strcmp to y_cmd">edit</a>]</div><a name="strcmp_to_y_cmd"></a><h3>strcmp to y_cmd</h3>
<p>1. strcmp commands are all held in the <a href="OnPlayerCommandText.html" title="OnPlayerCommandText">OnPlayerCommandText</a> callback, and will look like so:
</p>
<pre class="pawn"><span style="color: #4169e1;">if</span><span style="color: #66cc66;">&#40;</span><a href="http://wiki.sa-mp.com/wiki/strcmp"><span style="color: #006400;">strcmp</span></a><span style="color: #66cc66;">&#40;</span>cmdtext, <span style="color: #b22222;">&quot;/command&quot;</span>, true<span style="color: #66cc66;">&#41;</span> == <span style="color: #4169e1;">0</span><span style="color: #66cc66;">&#41;</span>
<span style="color: #66cc66;">&#123;</span>
    <span style="color: #808080; font-style: italic;">// Code for command</span>
    <span style="color: orange; font-weight: bold;">return</span> <span style="color: #4169e1;">1</span>;
<span style="color: #66cc66;">&#125;</span></pre>
<p><br />
2. Take the code from part 1 and place it in a function like so, outside of all callbacks:
</p>
<pre class="pawn"><span style="color: orange;">YCMD</span>:command<span style="color: #66cc66;">&#40;</span>playerid, params<span style="color: #66cc66;">&#91;</span><span style="color: #66cc66;">&#93;</span>, help<span style="color: #66cc66;">&#41;</span>
<span style="color: #66cc66;">&#123;</span>
    <span style="color: #4169e1;">if</span><span style="color: #66cc66;">&#40;</span>help<span style="color: #66cc66;">&#41;</span>
    <span style="color: #66cc66;">&#123;</span>
        <a href="http://wiki.sa-mp.com/wiki/SendClientMessage"><span style="color: #006400;">SendClientMessage</span></a><span style="color: #66cc66;">&#40;</span>playerid, 0xFF0000AA, <span style="color: #b22222;">&quot;Write a short help message here.&quot;</span><span style="color: #66cc66;">&#41;</span>;
    <span style="color: #66cc66;">&#125;</span>
    <span style="color: #4169e1;">else</span>
    <span style="color: #66cc66;">&#123;</span>
        <span style="color: #808080; font-style: italic;">// Code for command</span>
    <span style="color: #66cc66;">&#125;</span>
    <span style="color: orange; font-weight: bold;">return</span> <span style="color: #4169e1;">1</span>;
<span style="color: #66cc66;">&#125;</span></pre>
<p>Then delete all the code from part 1.
</p><p><br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="Command_Conversion.html" title="Edit section: strcmp to z_cmd">edit</a>]</div><a name="strcmp_to_z_cmd"></a><h3>strcmp to z_cmd</h3>
<p>1. strcmp commands are all held in the <a href="OnPlayerCommandText.html" title="OnPlayerCommandText">OnPlayerCommandText</a> callback, and will look like so:
</p>
<pre class="pawn"><span style="color: #4169e1;">if</span><span style="color: #66cc66;">&#40;</span><a href="http://wiki.sa-mp.com/wiki/strcmp"><span style="color: #006400;">strcmp</span></a><span style="color: #66cc66;">&#40;</span>cmdtext, <span style="color: #b22222;">&quot;/command&quot;</span>, true<span style="color: #66cc66;">&#41;</span> == <span style="color: #4169e1;">0</span><span style="color: #66cc66;">&#41;</span>
<span style="color: #66cc66;">&#123;</span>
    <span style="color: #808080; font-style: italic;">// Code for command</span>
    <span style="color: orange; font-weight: bold;">return</span> <span style="color: #4169e1;">1</span>;
<span style="color: #66cc66;">&#125;</span></pre>
<p><br />
2. Take the code from part 1 and place it in a function like so, outside of all callbacks:
</p>
<pre class="pawn"><span style="color: orange;">CMD</span>:command<span style="color: #66cc66;">&#40;</span>playerid, params<span style="color: #66cc66;">&#91;</span><span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">&#41;</span>
<span style="color: #66cc66;">&#123;</span>
    <span style="color: #808080; font-style: italic;">// Code for command</span>
    <span style="color: orange; font-weight: bold;">return</span> <span style="color: #4169e1;">1</span>;
<span style="color: #66cc66;">&#125;</span></pre>
<p>Then delete all the code from part 1.
</p><p><br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="Command_Conversion.html" title="Edit section: From dcmd">edit</a>]</div><a name="From_dcmd"></a><h2>From dcmd</h2>
<p>dcmd is simply a 'macro' ('shortcut') for strcmp. It's the exact same code, just easier to write. Also not recommended.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="Command_Conversion.html" title="Edit section: dcmd to strcmp">edit</a>]</div><a name="dcmd_to_strcmp"></a><h3>dcmd to strcmp</h3>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="Command_Conversion.html" title="Edit section: dcmd to y_cmd">edit</a>]</div><a name="dcmd_to_y_cmd"></a><h3>dcmd to y_cmd</h3>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="Command_Conversion.html" title="Edit section: dcmd to zcmd">edit</a>]</div><a name="dcmd_to_zcmd"></a><h3>dcmd to zcmd</h3>
<p><br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="Command_Conversion.html" title="Edit section: From zcmd">edit</a>]</div><a name="From_zcmd"></a><h2>From zcmd</h2>
<p>ZCMD is a very efficient command processor. It does not search through every command, but instead directly calls the command function if it exists. It is MUCH more efficient than strcmp/dcmd and is therefore highly recommended. It does not have as many features as y_cmd, but is widely used due to it's simplicity. <a href="http://forum.sa-mp.com/showthread.php?t=91354" class='external text' title="http://forum.sa-mp.com/showthread.php?t=91354" rel="nofollow">See topic for details</a>.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="Command_Conversion.html" title="Edit section: zcmd to strcmp">edit</a>]</div><a name="zcmd_to_strcmp"></a><h3>zcmd to strcmp</h3>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="Command_Conversion.html" title="Edit section: zcmd to dcmd">edit</a>]</div><a name="zcmd_to_dcmd"></a><h3>zcmd to dcmd</h3>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="Command_Conversion.html" title="Edit section: zcmd to y_cmd">edit</a>]</div><a name="zcmd_to_y_cmd"></a><h3>zcmd to y_cmd</h3>
<p><br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="Command_Conversion.html" title="Edit section: From y_cmd">edit</a>]</div><a name="From_y_cmd"></a><h2>From y_cmd</h2>
<p>y_cmd is a very efficient command processor. It is MUCH more efficient than strcmp/dcmd, is faster than zcmd and is therefore highly recommended. It supports a 'help' system, command permissions and a lot more. <a href="http://forum.sa-mp.com/showthread.php?t=169029" class='external text' title="http://forum.sa-mp.com/showthread.php?t=169029" rel="nofollow">See topic for details</a>.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="Command_Conversion.html" title="Edit section: y_cmd to strcmp">edit</a>]</div><a name="y_cmd_to_strcmp"></a><h3>y_cmd to strcmp</h3>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="Command_Conversion.html" title="Edit section: y_cmd to dcmd">edit</a>]</div><a name="y_cmd_to_dcmd"></a><h3>y_cmd to dcmd</h3>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="Command_Conversion.html" title="Edit section: y_cmd to zcmd">edit</a>]</div><a name="y_cmd_to_zcmd"></a><h3>y_cmd to zcmd</h3>
<div class="printfooter">
Retrieved from "<a href="http://localhost../wiki/Command_Conversion.html">http://localhost../wiki/Command_Conversion.html</a>"</div>
			<div id="catlinks"><p class='catlinks'><a href="Special_Categories.html" title="Special:Categories">Categories</a>: <span dir='ltr'><a href="Category_Pages_under_construction.html" class="new" title="Category:Pages under construction">Pages under construction</a></span> | <span dir='ltr'><a href="Category_Tutorials.html" title="Category:Tutorials">Tutorials</a></span></p></div>			<!-- end content -->
			<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<ul>
				 <li id="ca-nstab-main" class="selected"><a href="Command_Conversion.html">Article</a></li>
				 <li id="ca-talk"><a href="Talk_Command_Conversion.html">Discussion</a></li>
				 <li id="ca-edit"><a href="Command_Conversion.html">Edit</a></li>
				 <li id="ca-history"><a href="Command_Conversion.html">History</a></li>
		</ul>
	</div>

	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage"><a href="../wiki-archive.html">Main Page</a></li>
				<li id="n-help"><a href="Help_Contents.html">Help</a></li>
			</ul>
		</div>
	</div>
	
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../skins/common/images/poweredby_mediawiki_88x31.png" alt="MediaWiki" /></a></div>
			<ul id="f-list">
				<li id="viewcount">This page has been accessed 25,350 times.</li>
				<li id="credits">This page was last modified 12:03, 27 March 2017 by SA-MP Wiki user <a href="User_OstGot.html" title="User:OstGot">OstGot</a>. Based on work by SA-MP Wiki user(s) <a href="User_Smithy.html" title="User:Smithy">Smithy</a>.</li>
				<li id="privacy"><a href="SA-MP_Wiki_Privacy_policy.html" title="SA-MP Wiki:Privacy policy">Privacy policy</a></li>
				<li id="about"><a href="SA-MP_Wiki_About.html" title="SA-MP Wiki:About">About SA-MP Wiki</a></li>
				<li id="disclaimer"><a href="SA-MP_Wiki_General_disclaimer.html" title="SA-MP Wiki:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
	<script type="text/javascript"> if (window.runOnloadHook) runOnloadHook();</script>
</div>
<!-- Served by forum in 86.80 secs. -->
</body></html>
